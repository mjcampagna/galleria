!function(n){"function"==typeof define&&define.amd?define(n):n()}(function(){"use strict";!function(n,e){"function"==typeof define&&define.amd?define(["../galleria","jquery"],function(t,i){return e(n,t,i)}):"object"==typeof module&&module.exports?module.exports=e(n,require("galleria"),require("jquery")):e(n,n.Galleria,n.jQuery)}(window,function(n,e,t){var i,o,r,u,a,c,f,s,d,h,l,y,m;return e.requires(1.25,"The History Plugin requires Galleria version 1.2.5 or later."),e.History=(o=[],r=!1,u=n.location,a=n.document,c=e.IE,f="onhashchange"in n&&(void 0===a.mode||a.mode>7),d=(s=function(n){return n=i&&!f&&e.IE?n||i.location:u,parseInt(n.hash.substr(2),10)})(u),h=[],l=function(){t.each(h,function(e,t){t.call(n,s())})},y=function(){t.each(o,function(n,e){e()}),r=!0},m=function(n){return"/"+n},f&&c<8&&(f=!1),f?y():t(function(){n.setInterval(function(){var n=s();isNaN(n)||n==d||(d=n,u.hash=m(n),l())},50),c?t('<iframe tabindex="-1" title="empty">').hide().attr("src","about:blank").one("load",function(){i=this.contentWindow,y()}).insertAfter(a.body):y()}),{change:function(e){h.push(e),f&&(n.onhashchange=l)},set:function(n){isNaN(n)||(!f&&c&&this.ready(function(){var e=i.document;e.open(),e.close(),i.location.hash=m(n)}),u.hash=m(n))},ready:function(n){r?n():o.push(n)}}),e})});
