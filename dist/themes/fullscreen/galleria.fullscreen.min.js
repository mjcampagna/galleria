!function(i,t){"function"==typeof define&&define.amd?define(["../galleria","jquery"],function(e,n){return t(i,e,n)}):"object"==typeof module&&module.exports?module.exports=t(i,require("galleria"),require("jquery")):t(i,i.Galleria,i.jQuery)}(window,function(i,t,e){return t.addTheme({name:"fullscreen",version:"1.6",author:"Galleria",css:"galleria.fullscreen.css",defaults:{transition:"none",imageCrop:!0,thumbCrop:"height",easing:"galleriaOut",trueFullscreen:!1,_hideDock:!t.TOUCH,_closeOnClick:!1},init:function(n){t.requires(1.5,"This version of Fullscreen theme requires Galleria version 1.5 or later"),this.addElement("thumbnails-tab"),this.appendChild("thumbnails-container","thumbnails-tab");var a=this.$("thumbnails-tab"),s=this.$("loader"),o=this.$("thumbnails-container"),h=this.$("thumbnails-list"),r=this.$("info-text"),c=this.$("info"),l=!n._hideDock,u=0;t.IE&&(this.addElement("iefix"),this.appendChild("container","iefix"),this.$("iefix").css({zIndex:3,position:"absolute",backgroundColor:this.hasVariation("light")?"#fff":"#000",opacity:.4,top:0})),!1===n.thumbnails&&o.hide();var d=this.proxy(function(n){var a=n.width||e(n).width();(n||a)&&(a=Math.min(a,e(i).width()),r.width(a-40),t.IE&&this.getOptions("showInfo")&&this.$("iefix").width(c.outerWidth()).height(c.outerHeight()))});this.bind("rescale",function(){u=this.getStageHeight()-a.height()-2,o.css("top",l?u-h.outerHeight()+2:u);var i=this.getActiveImage();i&&d(i)}),this.bind("loadstart",function(i){i.cached||s.show().fadeTo(100,1),e(i.thumbTarget).css("opacity",1).parent().siblings().children().css("opacity",.6)}),this.bind("loadfinish",function(i){s.fadeOut(300),this.$("info, iefix").toggle(this.hasInfo())}),this.bind("image",function(i){i.imageTarget&&d(i.imageTarget)}),this.bind("thumbnail",function(i){e(i.thumbTarget).parent(":not(.active)").children().css("opacity",.6),e(i.thumbTarget).on("click:fast",function(){l&&n._closeOnClick&&a.trigger("click:fast")})}),this.trigger("rescale"),t.TOUCH||(this.addIdleState(o,{opacity:0}),this.addIdleState(this.get("info"),{opacity:0}),this.$("image-nav-left, image-nav-right").css("opacity",.01).hover(function(){e(this).animate({opacity:1},100)},function(){e(this).animate({opacity:0})}).show()),t.IE&&this.addIdleState(this.get("iefix"),{opacity:0}),n._hideDock?a.on("click:fast",this.proxy(function(){a.toggleClass("open",!l),l?o.animate({top:u},400,n.easing):o.animate({top:u-h.outerHeight()+2},400,n.easing),l=!l})):(this.bind("thumbnail",function(){o.css("top",u-h.outerHeight()+2)}),a.css("visibility","hidden")),this.$("thumbnails").children().hover(function(){e(this).not(".active").children().stop().fadeTo(100,1)},function(){e(this).not(".active").children().stop().fadeTo(400,.6)}),this.enterFullscreen(),this.attachKeyboard({escape:function(i){return!1},up:function(i){l||a.trigger("click:fast"),i.preventDefault()},down:function(i){l&&a.trigger("click:fast"),i.preventDefault()}})}}),t});
