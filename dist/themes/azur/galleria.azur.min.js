!function(e,t){"function"==typeof define&&define.amd?define(["../galleria","jquery"],function(n,i){return t(e,n,i)}):"object"==typeof module&&module.exports?module.exports=t(e,require("galleria"),require("jquery")):t(e,e.Galleria,e.jQuery)}(window,function(e,t,n){return t.addTheme({name:"azur",version:1.6,author:"Galleria",css:"galleria.azur.css",defaults:{transition:"fade",transitionSpeed:500,imageCrop:!0,thumbCrop:"height",idleMode:"hover",idleSpeed:500,fullscreenTransition:!1,_locale:{show_captions:"Show captions",hide_captions:"Hide captions",play:"Play slideshow",pause:"Pause slideshow",enter_fullscreen:"Enter fullscreen",exit_fullscreen:"Exit fullscreen",next:"Next image",prev:"Previous image",showing_image:"Showing image %s of %s"},_toggleCaption:!0,_showCaption:!0,_showTooltip:!0},init:function(i){t.requires(1.6,"This version of Azur theme requires Galleria version 1.6 or later"),this.addElement("bar","fullscreen","play","progress").append({stage:"progress",container:"bar",bar:["fullscreen","play","thumbnails-container"]}).prependChild("stage","info").appendChild("container","tooltip");var a=this,o=e.document,s=i._locale,r="getContext"in o.createElement("canvas");!function(){if(r){var e=24,t=o.createElement("canvas"),i=t.getContext("2d"),s=function(e){return e*(Math.PI/180)};t.width=e,t.height=e,n(t).css({zIndex:1e4,position:"absolute",right:10,top:10}).appendTo(a.get("container")),a.bind("progress",function(a){var o,r;n(t).fadeIn(200),o=3.6*a.percent,r="rgba(255,255,255,.7)",i.strokeStyle=r,i.lineWidth=3,i.clearRect(0,0,e,e),i.beginPath(),i.arc(12,12,10,s(-90),s(o-90),!1),i.stroke(),i.closePath()}),a.bind("pause",function(){n(t).fadeOut(200,function(){i.clearRect(0,0,e,e)})})}else{a.addElement("progressbar").appendChild("progress","progressbar"),a.$("progress").addClass("nocanvas");var l=a.$("progress").width();a.bind("progress",function(e){a.$("progressbar").width(e.percent/100*l)})}}(),function(){var t,i=(t="RequestAnimationFrame",e.requestAnimationFrame||e["webkit"+t]||e["moz"+t]||e["o"+t]||e["ms"+t]||function(t){e.setTimeout(t,1e3/60)});if(r){var s=o.createElement("canvas"),l=s.getContext("2d"),c=Math,p=function(e,t,n){var i=n?-2:2;e.translate(t/i,t/i)},d=28;n(s).hide().appendTo(a.get("loader")).fadeIn(500);!function e(){i(e),function(e,t){var n,i=48,a=28;e.clearRect(0,0,i,i),e.lineWidth=1.5;for(var o=0;o<a;o++)n=o+t>=a?o-a+t:o+t,e.strokeStyle="rgba(255,255,255,"+c.max(0,n/a)+")",e.lineWidth=1,e.beginPath(),e.moveTo(24,8),e.lineTo(24,0),e.stroke(),p(e,i,!1),e.rotate(360/a*c.PI/180),p(e,i,!0);e.save(),p(e,i,!1),e.rotate(360/a/8*-1*c.PI/180),p(e,i,!0)}(l,d),d=0===d?28:d-1}()}else a.$("loader").addClass("nocanvas")}();var l=t.IE<9?{bottom:-100}:{bottom:-50,opacity:0},c=t.IE<9?{top:-20}:{opacity:0,top:-20};this.bind("play",function(){this.$("play").addClass("pause"),r||this.$("progress").show()}).bind("pause",function(){this.$("play").removeClass("pause"),r||this.$("progress").hide()}).bind("loadstart",function(e){e.cached||this.$("loader").show()}).bind("loadfinish",function(e){r?this.$("loader").fadeOut(100):this.$("loader").hide()}),this.addIdleState(this.get("info"),l,t.IE<9?{}:{opacity:1},!0).addIdleState(this.get("image-nav-left"),{opacity:0,left:0},{opacity:1},!0).addIdleState(this.get("image-nav-right"),{opacity:0,right:0},{opacity:1},!0).addIdleState(this.get("counter"),c,t.IE<9?{}:{opacity:.9},!0),this.$("fullscreen").on("click:fast",function(e){e.preventDefault(),a.toggleFullscreen()}),this.$("play").on("click:fast",function(e){e.preventDefault(),a.playToggle()}),i._toggleCaption&&(this.$("info").addClass("toggler"),this.addElement("captionopen").appendChild("stage","captionopen"),this.addElement("captionclose").appendChild("info","captionclose"),this.$("captionopen").on("click:fast",function(){a.$("info").addClass("open"),n(this).hide()}).html(s.show_captions),this.bind("loadstart",function(){this.$("captionopen").toggle(!a.$("info").hasClass("open")&&this.hasInfo())}),this.$("captionclose").on("click:fast",function(){a.$("info").removeClass("open"),a.hasInfo()&&a.$("captionopen").show()}).html("&#215;"),i._showCaption&&this.$("captionopen").trigger("click:fast")),i._showTooltip&&this.bindTooltip({fullscreen:function(){return a.isFullscreen()?s.exit_fullscreen:s.enter_fullscreen},play:function(){return a.isPlaying()?s.pause:s.play},captionclose:s.hide_captions,"image-nav-right":s.next,"image-nav-left":s.prev,counter:function(){return s.showing_image.replace(/\%s/,a.getIndex()+1).replace(/\%s/,a.getDataLength())}})}}),t});
