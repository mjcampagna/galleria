!function(e,t){"function"==typeof define&&define.amd?define(["../galleria","jquery"],function(i,s){return t(e,i,s)}):"object"==typeof module&&module.exports?module.exports=t(e,require("galleria"),require("jquery")):t(e,e.Galleria,e.jQuery)}(window,function(e,t,i){return t.addTheme({name:"miniml",version:1.6,author:"Galleria",css:"galleria.miniml.css",defaults:{transition:"pulse",thumbCrop:!0,imageCrop:!0,carousel:!1,imagePan:!0,clicknext:!0,_locale:{enter_fullscreen:"Enter fullscreen",exit_fullscreen:"Exit fullscreen",click_to_close:"Click to close",show_thumbnails:"Show thumbnails",show_info:"Show info"}},init:function(e){t.requires(1.6,"This version of Miniml theme requires Galleria version 1.6 or later");var s,n,o,l,a,r=this,c=!1;this.addElement("desc","dots","thumbs","fs","more"),this.append({container:["desc","dots","thumbs","fs","info-description","more"]}),a=this.$("thumbnails-container").hide().css("visibility","visible");var h=function(e){return i("<div>").html("&#8226;").on("click:fast",function(e){return function(t){t.preventDefault(),r.show(e)}}(e))};for(s=0;s<this.getDataLength();s++)this.$("dots").append(h(s));n=this.$("dots").outerWidth(),o=this.$("desc").hide().hover(function(){i(this).addClass("hover")},function(){i(this).removeClass("hover")}).on("click:fast",function(){i(this).hide()}),l=this.$("loader"),this.bindTooltip({fs:function(){return c?e._locale.exit_fullscreen:e._locale.enter_fullscreen},desc:e._locale.click_to_close,more:e._locale.show_info,thumbs:e._locale.show_thumbnails}),this.bind("loadstart",function(e){e.cached||this.$("loader").show().fadeTo(200,.4)}),this.bind("loadfinish",function(t){var i=r.getData().title,s=r.getData().description;l.fadeOut(200),this.$("dots").children("div").eq(t.index).addClass("active").siblings(".active").removeClass("active"),i&&s?(o.empty().append("<strong>"+i+"</strong>","<p>"+s+"</p>"),this.$("more").show()):this.$("more").hide(),a.fadeOut(e.fadeSpeed),r.$("thumbs").removeClass("active")}),this.bind("thumbnail",function(e){i(e.thumbTarget).hover(function(){r.setInfo(e.index)},function(){r.setInfo()})}),this.$("fs").on("click:fast",function(){r.toggleFullscreen(),c=!c}),this.$("thumbs").on("click:fast",function(e){e.preventDefault(),a.toggle(),i(this).toggleClass("active"),o.hide()}),this.$("more").on("click:fast",function(){o.toggle()}),this.$("info").css({width:this.getStageWidth()-n-30,left:n+10})}}),t});
